# DESIGN

First off, my decision to use PHP was informed by the constraints of the hosting options available to me. I already had access to a shared hosting plan, but the plan was limited to essentially Wordpress/Weebly sites or PHP. 

Through my research, I was concerned with the dangers of "spaghetti code" that was common to many complaints on the Internet. As such, I took steps to separate code accessing the database from the presentation layer. I focused on an object-oriented approach to the code, by writing classes to handle each table of my database.

Another design choice was using PDO rather than mysqli to access the database. One benefit was that I was able to make a central configuration file containing a DatabaseConnection class, which I used in all subsequent classes I wrote. This helped to minimize redundancy. In addition, PDO allowed me to write code in a way that made SQL injection more difficult, by keeping the variables and the SQL statements separate.

Before actually writing code, I spent a few days thinking about the overall structure of my database, and exactly what kinds of tables I would need, and how they would connect to each other via primary and foreign keys. I documented this work in the database-schema-designs/ folder. This process was informed by the fact that I actually had a use case for my project: the online platform is actually being used for the class "The Democracy Project," a GenEd whose final takes the form of a Constitutional Convention. As such, I tailored the vote thresholds and overall features towards the unique setup of the class's final.

Overall, the code is split into two perspectives: Delegate and Moderator. For the Delegate, they are able to see any ongoing votes that have opened up, their own voting record and that of their caucus, and finally some user details and a counter for how many votes are left. For the Moderator, they are able to view all Delegates, view all Caucuses and add new ones, create and edit Votes, and present final results for each vote. In writing the database tables for Moderators and Delegates, I specifically took into account the use case of the Convention, and the fact that passwords for the Delegates may lead to more room for user error, so I opted to not store passwords for the Delegates. For the Moderators, I made sure to store passwords in an encrypted format instead of plain-text, according to PHP standards.

For the final vote result page (moderator/result-read.php), I wanted to emulate the C-SPAN style vote tallies that I had seen frequently broadcasted regarding votes in the U.S. Congress, so I learned a number of different CSS and JS properties in order to match the similar orientation, font, countdown, etc.

One feature I prioritized from the beginning was the implementation of an AJAX function for the Delegate's side. I knew that if Delegates would be frequently using the interface to access new votes, the need to manually refresh the page would prove cumbersome. Therefore, in the AJAX function, I made the timing not too fast where it would take up lots of memory, but not too slow where the votes would not be updated fast enough. I also added a manual refresh button as a back-up, should any issues arrive in practice with the speed of the AJAX function. jQuery was critical for making the function clean and simple, since it took care of many of the setup steps.

Being mobile-friendly was also a priority for my project; I knew that some users might be on laptops, others might be on phones, and that it needed to be usable from any device. As a result, I gravitated towards the Bootstrap framework, because it offered styling options that would take into account mobile devices. I ended up doing a lot of testing on phones to make sure the different cards and text boxes would shrink/collapse as expected. Bootstrap's docs also were very helpful in showing me how to use different elements like navbars, and their examples were an inspiration to my sign-in pages and index page.

SESSION variables were also very vital in order to preserve the sign-in status and to carry a user's data from page to page. I learned about how to implement them in PHP and was able to add them to my project.